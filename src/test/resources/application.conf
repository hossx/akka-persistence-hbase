akka {
  loglevel = "DEBUG"

  persistence {
    journal.plugin = "hbase-journal"

    snapshot-store.plugin = "hadoop-snapshot-store"

    # we need event publishing for tests
    publish-confirmations = on
    publish-plugin-commands = on

    # disable leveldb (default store impl)
    journal.leveldb.native = off
  }

  log-dead-letters = 10
  log-dead-letters-during-shutdown = on
}


hbase-journal {
  table = "messages"
  family = "a"
  partition.count= 1
  scan-batch-size = 50
  hdfs-default-name = "hdfs://weichaoli:54310"
  snapshot-dir = "/snapshot"
  publish-testing-events = on

  plugin-dispatcher = "default-plugin-dispatcher"
  replay-dispatcher = "default-replay-dispatcher"

  #plugin-dispatcher = "akka.persistence.dispatchers.default-plugin-dispatcher"
  #replay-dispatcher = "akka.persistence.dispatchers.default-replay-dispatcher"

  class = "akka.persistence.hbase.journal.HBaseAsyncWriteJournal"
  hbase {
    cluster.distributed = false
    zookeeper.quorum = "weichaoli:2181"
  }
}

hadoop-snapshot-store {
  table = "snapshot"
  family = "a"
  partition.count= 1
  scan-batch-size = 50
  hdfs-default-name = "hdfs://weichaoli:54310"
  snapshot-dir = "/snapshot/"
  publish-testing-events = on
  class = "akka.persistence.hbase.snapshot.HadoopSnapshotStore"
  plugin-dispatcher = "default-plugin-dispatcher"
  replay-dispatcher = "default-replay-dispatcher"
  #plugin-dispatcher = "akka.persistence.dispatchers.default-plugin-dispatcher"
  #replay-dispatcher = "akka.persistence.dispatchers.default-replay-dispatcher"

  impl = "akka.persistence.hbase.snapshot.HdfsSnapshotter"
  #impl = "akka.persistence.hbase.snapshot.HBaseSnapshotter"
  hbase {
    cluster.distributed = false
    zookeeper.quorum = "weichaoli:2181"
  }
}

default-plugin-dispatcher {
    type = PinnedDispatcher
    executor = "thread-pool-executor"
}

default-replay-dispatcher {
    type = Dispatcher
    executor = "fork-join-executor"
    fork-join-executor {
        parallelism-min = 2
        parallelism-max = 8
    }
}
